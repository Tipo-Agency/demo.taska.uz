# Техническое задание: Модуль контента (Content Module)

## 1. Общая информация

### 1.1. Назначение
Модуль контента предназначен для управления документами, встречами и контент-планом.

### 1.2. Компоненты модуля
- **Документы** - Внутренние и внешние документы
- **Встречи** - Планирование и проведение встреч
- **Контент-план** - Планирование публикаций в социальных сетях

## 2. Документы (Docs)

### 2.1. Создание документа

#### 2.1.1. Обязательные поля
- **title** (string) - Название документа
- **type** (string) - Тип: 'internal' (внутренний) или 'external' (внешний)

#### 2.1.2. Опциональные поля
- **content** (string) - Содержимое документа (HTML/Markdown)
- **folderId** (string) - ID папки
- **tableId** (string) - ID таблицы
- **createdBy** (string) - ID создателя

### 2.2. Типы документов
- **internal** - Внутренний документ (доступен только сотрудникам)
- **external** - Внешний документ (может быть доступен клиентам)

### 2.3. Управление документами
- Создание документа
- Редактирование содержимого (Rich Text Editor)
- Организация в папки
- Поиск по названию и содержимому
- Мягкое удаление (архив)
- Восстановление из архива

### 2.4. Папки (Folders)
- Создание папок для организации документов
- Вложенность папок (parentId)
- Привязка к таблице

## 3. Встречи (Meetings)

### 3.1. Создание встречи

#### 3.1.1. Обязательные поля
- **title** (string) - Название встречи
- **date** (string) - Дата встречи (YYYY-MM-DD)
- **time** (string) - Время встречи (HH:MM)
- **participantIds** (string[]) - ID участников

#### 3.1.2. Опциональные поля
- **description** (string) - Описание встречи
- **summary** (string) - Резюме встречи (заполняется после проведения)
- **tableId** (string) - ID таблицы

### 3.2. Управление встречами
- Создание встречи
- Редактирование встречи
- Добавление участников
- Заполнение резюме после встречи
- Удаление встречи

### 3.3. Интеграция с Notifications модулем
- Уведомления о предстоящих встречах
- Уведомления участникам о создании встречи

## 4. Контент-план (Content Posts)

### 4.1. Создание поста

#### 4.1.1. Обязательные поля
- **topic** (string) - Тема поста
- **date** (string) - Дата публикации (YYYY-MM-DD)

#### 4.1.2. Опциональные поля
- **text** (string) - Текст поста
- **status** (string) - Статус: 'draft' | 'scheduled' | 'published'
- **platform** (string) - Платформа ('instagram', 'telegram', etc.)
- **tableId** (string) - ID таблицы

### 4.2. Статусы поста
- **draft** - Черновик
- **scheduled** - Запланирован
- **published** - Опубликован

### 4.3. Управление контент-планом
- Создание поста
- Редактирование поста
- Планирование публикаций
- Отметка о публикации
- Синхронизация с календарем

### 4.4. Интеграция с Tasks модулем
- Создание задачи из поста контент-плана
- Связь задачи с постом (`contentPostId`)

## 5. Интеграции

### 5.1. Интеграция с Tasks модулем
- Создание задачи из поста контент-плана
- Связь документа с задачей

### 5.2. Интеграция с Notifications модулем
- Уведомления о создании документа
- Уведомления о предстоящих встречах
- Уведомления о запланированных публикациях

## 6. Технические детали

### 6.1. Компоненты
- `DocumentsModule` - Основной компонент модуля
- `DocumentsView` - Представление документов
- `DocEditor` - Редактор документов (Rich Text)
- `MeetingsView` - Представление встреч
- `ContentPlanView` - Представление контент-плана

### 6.2. API Endpoints
- `GET /api/docs` - Получить все документы
- `POST /api/docs` - Создать документ
- `PUT /api/docs/:id` - Обновить документ
- `DELETE /api/docs/:id` - Удалить документ
- `GET /api/folders` - Получить все папки
- `POST /api/folders` - Создать папку
- `GET /api/meetings` - Получить все встречи
- `POST /api/meetings` - Создать встречу
- `GET /api/contentPosts` - Получить все посты
- `POST /api/contentPosts` - Создать пост

### 6.3. Коллекции Firestore
- `docs` - Документы
- `folders` - Папки
- `meetings` - Встречи
- `contentPosts` - Посты контент-плана
